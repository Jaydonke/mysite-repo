---
import MainHeadline from "@/components/cards/mainHeadline.astro";
import SubHeadlineCard from "@/components/cards/subHeadlineCard.astro";
import HeaderSection from "./headerSection.astro";
import { articlesHandler } from "@/lib/handlers/articles";

const articles = articlesHandler.allArticles();
const mainArticle = articles[0];
const subArticles = articles.slice(1, 5);
---

<section class="container pt-4 md:pt-8 pb-0 space-y-4" data-pagefind-ignore="all">
  <HeaderSection
    title="Recent Articles"
    link_title="View all"
    link_url="/articles"
  />
  <div
    class="grid grid-cols-1 gap-6 md:grid-cols-10"
    data-pagefind-ignore="all"
  >
    <div class="col-span-1 md:col-span-6">
      <MainHeadline article={mainArticle} />
    </div>
    <div class="col-span-1 md:col-span-4">
      {
        subArticles.map((article, index) => (
          <SubHeadlineCard
            article={article}
            isFirst={index === 0}
            isLast={index === subArticles.length - 1}
          />
        ))
      }
    </div>
  </div>
</section>